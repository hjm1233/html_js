<!DOCTYPE HTML>
<html>
<head>
<title>1. 实现伸缩二级菜单</title>
<meta charset="utf-8" />
<style>
	li{
		list-style:none;
	}
	li span{
		padding-left: 20px;
		cursor: pointer;
		background: url("./images/add.png") no-repeat center left;
	}
	/*所有ul默认本来都是隐藏的*/
	li ul{
		display: none; 
	}
	/*只是将span的+换成-*/
	.open{ 
		background: url("./images/minus.png") no-repeat center left; 
	}
	/*预案: 如果一个ul是open的下一个兄弟，这个ul就显示*/
	.open+ul{ 
		display: block; 
	}
</style>

</head>
<body>
	<ul class="tree">
		<li>
			<span class="open">考勤管理</span>
			<ul>
				<li>日常考勤</li>
				<li>请假申请</li>
				<li>加班/出差</li>
			</ul>
		</li>
		<li>
			<span>信息中心</span>
			<ul>
				<li>通知公告</li>
				<li>公司新闻</li>
				<li>规章制度</li>
			</ul>
		</li>
		<li>
			<span>协同办公</span>
			<ul>
				<li>公文流转</li>
				<li>文件中心</li>
				<li>内部邮件</li>
				<li>即时通信</li>
				<li>短信提醒</li>
			</ul>
		</li>
	</ul>
  <script>
		//DOM4步
		//1. 查找触发事件的元素
		//本例中: 用户点span元素触发变化
		var spans=document.querySelectorAll(
			"ul.tree>li>span"
		);
		//2. 绑定事件处理函数
		for(var span of spans){
			span.onclick=function(){
				//this->获得当前点击的这个span
				//3. 查找要修改的元素
				//4. 修改元素
				//如果当前span自己就是开着的！
				if(this.className=="open"){
					//只要将自己关上即可！
					this.className="";
				}else{//否则
					//找到所有的span，都关上
					var spans=document.querySelectorAll(
						"ul.tree>li>span"
					);
					for(var span of spans){
						span.className="";
					}
					//只把自己打开
					this.className="open";
				}
			}
		}
	</script>
</body>
</html>